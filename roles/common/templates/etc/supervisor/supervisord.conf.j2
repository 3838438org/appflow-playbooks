#
# --- THIS FILE IS AUTOMATICALLY PROVISIONED THROUGH ANSIBLE ---
#

[supervisord]
nodaemon = {{ conf_supervisor_nodaemon }}
childlogdir = {{ conf_supervisor_log_dir }}
user = {{ conf_supervisor_user }}

{% if conf_supervisor_unix_http_server_enable %}
[unix_http_server]
file = {{ conf_supervisor_unix_http_server_socket_path }}
chown = {{ conf_supervisor_user }}
username = {{ conf_supervisor_user }}
password = {SHA}{{ conf_supervisor_password|hash('sha1') }}

[supervisorctl]
serverurl = unix://{{ conf_supervisor_unix_http_server_socket_path }}
username = {{ conf_supervisor_user }}
password = {SHA}{{ conf_supervisor_password|hash('sha1') }}
{% endif -%}

{%- if conf_supervisor_inet_http_server_enable %}
[inet_http_server]
port = {{ conf_supervisor_inet_http_server_port }}
username = {{ conf_supervisor_user }}
password = {SHA}{{ conf_supervisor_password|hash('sha1') }}

[supervisorctl]
serverurl = http://localhost:{{ conf_supervisor_inet_http_server_port }}
username = {{ conf_supervisor_user }}
password = {SHA}{{ conf_supervisor_password|hash('sha1') }}
{% endif %}

[include]
files = {{ conf_supervisor_config_path }}/conf.d/*.conf

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface
